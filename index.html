<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>myMemoPad</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/design.css">
</head>
<body>
<div class="container">
    <input type="text" class="addTxt" placeholder="Memo...">
    <button class="addBtn" onclick="addElement()">
        <img src="./img/add.png">
    </button>
    <div class="list"></div>
</div>

<script>
let elements = [];
window.onload = function() {
  if (JSON.parse(localStorage.getItem("elements")) != null)
    elements = JSON.parse(localStorage.getItem("elements"));
  console.log(elements);
  display();
};

function addElement(){
    if(document.querySelector(".addTxt").value.trim()!=""){
        elements.push(document.querySelector(".addTxt").value.trim());
    if (localStorage.getItem("elements") == null) {
      localStorage.setItem("elements", JSON.stringify(elements));
    } else {
      localStorage.setItem("elements", JSON.stringify(elements));
    }
        display();
    }}

    function display() {
  document.querySelector(".list").innerHTML = "";
  for (var i = 0; i < elements.length; i++)
    document.querySelector(".list").innerHTML +=
      "<center><div class='element'>" +
      elements[i] +
      "<img class='tick' src = './img/tick.png' onclick='strike(" +
      i +
      ")'><img class='dustbin' src = './img/bin.png' onclick='del(" +
      i +
      ")'></div></center><br>";
      }

function del(index) {
    elements.splice(index, 1);
    if (localStorage.getItem("elements") == null) {
      localStorage.setItem("elements", JSON.stringify(elements));
    } else {
      localStorage.setItem("elements", JSON.stringify(elements));
    }
    display();
}

function strike(index) {
  if (elements[index].includes("<strike>")) {
    elements[index] = elements[index].replace("<strike>", "");
  } else {
    elements[index] = "<strike>" + elements[index] + "</strike>";
  }
  display();
}


</script>
<footer><small> MemoPad</small></footer>
</body>
</html>